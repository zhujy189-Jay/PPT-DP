# PPT备注生成器PRD文档

## 1. 产品概述

### 1.1 产品名称
PPT备注生成器

### 1.2 产品定位
为用户提供简单易用的图片字幕添加工具，支持自定义字体样式、背景效果和文字排版，生成具有专业效果的字幕图片。

### 1.3 核心价值
- 提供直观的可视化编辑界面
- 支持丰富的字体样式和背景效果设置
- 实现独特的文字背景切割效果
- 快速生成和保存带字幕的图片

## 2. 功能需求

### 2.1 图片上传功能
- 支持点击选择图片文件
- 支持拖拽图片到指定区域上传
- 支持常见图片格式（JPG、PNG、GIF等）

### 2.2 字体样式设置
- **字体大小**：可调节范围建议12-100px，默认60px
- **行高**：可调节范围建议12-200px，默认99px
- **字体颜色**：支持颜色选择器，默认白色
- **轮廓颜色**：支持颜色选择器，默认黑色
- **轮廓宽度**：可调节范围建议0-10px，默认3px
- **背景颜色**：支持颜色选择器，默认黄色
- **背景透明度**：可调节范围0-1，默认0.7
- **背景内边距**：可调节范围0-100px，默认50px

### 2.3 字幕内容输入
- 支持多行文本输入
- 支持换行符（\n）识别和处理
- 提供示例文本说明格式

### 2.4 预览功能
- 实时预览字幕效果
- 显示上传的原始图片
- 直观展示字体样式和背景效果
- 无图片时显示提示信息

### 2.5 生成和保存
- 生成带字幕的图片
- 支持保存生成的图片到本地

## 3. 界面设计

### 3.1 整体布局
- **顶部**：标题栏，显示产品名称和副标题
- **右侧**：控制面板，包含图片选择、字体样式设置、字幕内容输入
- **左侧**：预览区域，显示实时效果
- **底部**：操作按钮，包含生成和保存功能

### 3.2 界面组件

#### 3.2.1 标题栏
- 产品名称："PPT备注生成器"，居中显示
- 副标题："为您的PPT添加专业的字幕效果"，居中显示在产品名称下方
- 背景色：渐变色（从蓝色到白色）

#### 3.2.2 图片选择区域
- 标题："选择图片"
- 上传按钮：蓝色矩形按钮，显示"点击选择图片或拖拽到此处"
- 支持拖拽交互

#### 3.2.3 字体样式区域
- 标题："字体样式"
- 包含以下设置项：
  - 字体大小输入框
  - 行高输入框
  - 字体颜色选择器
  - 轮廓颜色选择器
  - 轮廓宽度输入框
  - 背景颜色选择器
  - 背景透明度滑块
  - 背景内边距滑块

#### 3.2.4 字幕内容区域
- 标题："字幕内容"
- 文本输入框：支持多行输入
- 占位提示文本："请输入字幕内容，支持多行文本...\n例如：\n别划走\n我在给自己写的网站呢\n对，这牛头..."

#### 3.2.5 预览区域
- 标题："预览区域"
- 图片显示区域：白色背景
- 无图片时显示提示信息和图片图标
- 实时显示字幕效果

#### 3.2.6 操作按钮
- 生成按钮：绿色，显示"生成字幕图片"
- 保存按钮：灰色，显示"保存图片"，生成前禁用

## 4. 交互流程

### 4.1 基本流程
1. 用户访问工具页面
2. 上传图片（点击选择或拖拽）
3. 输入字幕内容
4. 调整字体样式和背景效果
5. 实时预览效果
6. 点击生成按钮
7. 点击保存按钮下载图片

### 4.2 特殊交互
- 图片上传后，预览区域显示图片
- 字体样式调整实时反映在预览中
- 字幕内容输入实时更新预览
- 生成按钮点击后，保存按钮变为可用

## 5. 技术要求

### 5.1 前端技术
- HTML5
- CSS3
- JavaScript
- Canvas API（用于图片处理和字幕绘制）
- File API（用于文件上传）

### 5.2 核心功能实现

#### 5.2.1 图片处理
- 使用Canvas绘制上传的图片
- 支持图片缩放和定位

#### 5.2.2 字幕绘制
- 实现文字多行渲染
- 支持字体大小和行高设置
- 实现文字轮廓效果

#### 5.2.3 背景效果
- 实现每行文字独立背景
- 背景内边距自适应文字长度
- 特殊的切割感背景效果（每行文字背景相同，呈现切割感）

#### 5.2.4 颜色和透明度
- 使用RGBA颜色模型
- 实现透明度滑块控制

#### 5.2.5 保存功能
- 使用Canvas的toDataURL方法生成图片
- 创建下载链接实现保存

## 6. 特殊效果说明

### 6.1 文字背景切割效果
- 每行文字拥有独立的背景区域
- 背景颜色统一设置
- 背景透明度统一设置
- 背景内边距统一设置
- 每行背景呈现独立的切割效果，与其他行背景完全分离
- 背景宽度根据该行文字内容自适应

## 7. 界面原型

### 7.1 初始状态
- 左侧显示空的图片选择区域、字体样式设置和空的字幕输入框
- 右侧预览区域显示"请先上传图片，然后输入字幕内容"提示
- 生成按钮可用，保存按钮禁用

### 7.2 上传图片后
- 左侧显示已上传图片信息
- 右侧预览区域显示上传的图片
- 生成按钮可用，保存按钮禁用

### 7.3 输入内容并调整样式后
- 右侧预览区域实时显示带字幕的图片效果
- 生成按钮可用，保存按钮禁用

### 7.4 生成图片后
- 右侧预览区域显示最终效果
- 保存按钮变为可用

## 8. 性能要求

### 8.1 响应时间
- 图片上传响应时间：<2秒（中等大小图片）
- 样式调整实时预览：<100ms
- 图片生成时间：<5秒

### 8.2 兼容性
- 支持主流浏览器（Chrome、Firefox、Safari、Edge）
- 支持移动端适配

## 9. 验收标准

### 9.1 功能验收
- 所有功能点按照需求实现
- 交互流程符合设计
- 特殊效果正确实现

### 9.2 界面验收
- 界面布局与设计一致
- 组件样式符合设计规范
- 响应式布局正常

### 9.3 性能验收
- 响应时间符合要求
- 无明显卡顿现象

## 10. 风险评估

### 10.1 技术风险
- Canvas绘制复杂效果可能影响性能
- 不同浏览器对Canvas API的支持存在差异

### 10.2 解决方案
- 优化Canvas绘制算法
- 增加浏览器兼容性处理
- 提供降级方案